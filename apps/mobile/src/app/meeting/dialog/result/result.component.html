<ion-content fullscreen *ngIf="questionResult">

  <!-- Récupération de l'état de la mention : adoptée ou rejetée -->
  <ion-button *ngIf="questionResult.details.result" expand="block">
    <span class="truncate uppercase font-bold">{{ questionResult.details.result?.title }}</span>
  </ion-button>

  <ion-list>

    <!-- Boucle sur l'entité chapter afin de récupérer les choix -->
    <ion-item *ngFor="let choice of questionResult.choices" class="ion-padding">

      <!-- Nombre de votes en % et nombre absolu pour chaque choix -->
      <ion-label position="stacked">
        <span>{{ choice.count / questionResult.count * 100 | number:'1.0-0' }} %</span>
        <span>{{ choice.details != null ? choice.details.title : 'Abstention' }}</span>
      </ion-label>

      <!-- Graph sous forme de barre horizontale et récupération du nombre de votes dans value -->
      <ion-progress-bar color="primary" [value]="choice.count / questionResult.count"></ion-progress-bar>

    </ion-item>

  </ion-list>

  <!-- Récupération du nombre total de votes par chapitre -->
  <ion-button expand="block">
    Nombre total de votants : {{ questionResult.count }}
  </ion-button>

</ion-content>
